<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/globals.css" />
    <link rel="stylesheet" href="css/styleguide.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="mobile-mclaren mobile-mclaren-wrapper" data-model-id="2006:845">
      <div class="div">
        <div class="overlap">
          <img class="BG" src="img/bg.svg" />
          <div class="SUELDO">
            <img class="img" src="img/icons.svg" />
            <p class="text-wrapper">Triplicá tus chances por cada compra que hagas por cobrar tu sueldo en el BNA.</p>
          </div>
          <div class="TYC">
            <div class="TYC-check">
              <div class="CHECK"><img class="vector" src="img/vector-16.svg" /></div>
              <div class="text-wrapper-2">Términos y condiciones</div>
            </div>
            <div class="links"><div class="text-wrapper-3">Descargar</div></div>
          </div>
          <div class="CTAS">
            <button class="CTA"><div class="quiero-participar">QUIERO PARTICIPAR</div></button>
          </div>
          <p class="hola-nombre">
            <span class="span">¡Hola,</span>
            <span class="text-wrapper-4"> (nombre)</span>
            <span class="span">!</span>
          </p>
          <div class="footer-mobile">
            <p class="necesit-s-ayuda">
              <span class="text-wrapper-5">¿Necesitás ayuda? <br /></span>
              <span class="text-wrapper-6">Preguntas frecuentes <br /></span>
              <span class="text-wrapper-7"> <br /></span>
              <span class="text-wrapper-5">Centro de Contactos</span>
              <span class="text-wrapper-6"> 0810-666-4444</span>
              <span class="text-wrapper-7"> <br /></span>
              <span class="text-wrapper-5">de lunes a viernes de 08:00 a 20:00 hs</span>
              <span class="text-wrapper-7">.</span>
            </p>
            <div class="overlap-group">
              <img class="layer" src="img/layer-2-1.png" />
              <div class="rectangle"></div>
              <p class="p">©2025 - Banco de la Nación Argentina.</p>
              <img class="COBRAND" src="img/cobrand.svg" />
            </div>
          </div>
          <div class="header-mobile">
            <div class="overlap-2">
              <div class="overlap-3">
                <img class="misc" src="img/misc.svg" />
                <img class="LN-front-JD" src="img/mcl39-ln-front-8k-jd-velo-1.png" />
                <p class="y-viaj-a-san-pablo">Y VIAJÁ A SAN PABLO, BRASIL</p>
                <div class="title">
                  <div class="overlap-group-2">
                    <img class="vector-2" src="img/vector.svg" />
                    <div class="aceler">ACELERÁ</div>
                  </div>
                </div>
              </div>
              <img class="logos" src="img/logos.svg" />
            </div>
          </div>
          <p class="particip-con-tu">
            <span class="text-wrapper-8">Participá con tu </span>
            <span class="text-wrapper-4">Mastercard BNA</span>
            <span class="text-wrapper-8"> de este </span>
            <span class="text-wrapper-4">sorteo exclusivo.</span>
          </p>
          <p class="cortes-a-de">
            <span class="text-wrapper-9">Cortesía de </span> <span class="text-wrapper-4">Mastercard</span>
          </p>
          <div class="content">
            <div class="text">
              <p class="text-wrapper-10">Ganá un viaje a San Pablo, Brasil</p>
              <p class="y-disfrut-de-un-meet">
                <span class="text-wrapper-11">y disfrutá de un </span>
                <span class="text-wrapper-4">Meet &amp; Greet</span>
                <span class="text-wrapper-11"> con una leyenda o piloto de reserva del </span>
                <span class="text-wrapper-4">McLaren Formula 1 Team.</span>
              </p>
            </div>
            <img class="img" src="img/icons-1.svg" />
          </div>
          <p class="text-wrapper-12">Vigencia: del 15/8/2025 al 14/9/2025</p>
          <div class="cmo-participar-CTA">
            <div class="text-wrapper-13">¿Cómo sumás chances?</div>
            <div class="duplica">
              <div class="tag"><div class="sum">SUMÁ 2</div></div>
              <div class="item">
                <div class="icon">
                  <div class="icons">
                    <div class="overlap-group-3">
                      <img class="vector-3" src="img/vector-34-5.svg" />
                      <img class="vector-4" src="img/vector-35-3.svg" />
                    </div>
                  </div>
                </div>
                <p class="div-2">
                  <span class="text-wrapper-14">Por cada compra desde </span>
                  <span class="text-wrapper-4">BNA+ MODO</span>
                  <span class="text-wrapper-14"> con tus tarjetas </span>
                  <span class="text-wrapper-4">Mastercard BNA.</span>
                </p>
              </div>
              <div class="item">
                <div class="icon">
                  <div class="icons">
                    <div class="overlap-group-3">
                      <img class="vector-3" src="img/vector-34-5.svg" />
                      <img class="vector-4" src="img/vector-35-3.svg" />
                    </div>
                  </div>
                </div>
                <p class="div-2">
                  <span class="text-wrapper-14">Por cada compra con tu </span>
                  <span class="text-wrapper-4">Mastercard Black o Platinum BNA.</span>
                </p>
              </div>
            </div>
            <div class="duplica-2">
              <div class="tag"><div class="sum">SUMÁ 3</div></div>
              <div class="item">
                <img class="icon-2" src="img/icon.svg" />
                <p class="div-2">
                  <span class="text-wrapper-14">Por cada compra con Mastercard,</span>
                  <span class="text-wrapper-4"> si cobrás tu sueldo en BNA.</span>
                </p>
              </div>
            </div>
            <div class="duplica-3">
              <div class="tag"><div class="sum">SUMÁ 1</div></div>
              <div class="item">
                <div class="icon"><img class="vector-5" src="img/vector-34-5.svg" /></div>
                <p class="div-2">
                  <span class="text-wrapper-14">Por cada compra con tus tarjetas de débito y crédito </span>
                  <span class="text-wrapper-4">Mastercard BNA.</span>
                </p>
              </div>
            </div>
          </div>
          <div class="banner">
            <div class="contenido">
              <div class="frame">
                <p class="text-wrapper-15">Además podés ganar merchandising oficial:</p>
                <p class="text-wrapper-16">
                  Sorteamos una camiseta y mochila oficial del equipo por cada podio del McLaren Formula 1 Team
                </p>
              </div>
              <div class="overlap-group-wrapper">
                <div class="overlap-group-4">
                  <img class="REMERA" src="img/remera.png" /> <img class="MOCHILA" src="img/mochila.png" />
                </div>
              </div>
            </div>
            <p class="text-wrapper-17">Vigencia: del 15/8/2025 al 30/11/2025</p>
          </div>
        </div>
        <img class="NAV" src="img/nav.svg" />
      </div>
    </div>
    <div class="mobile-mclaren desktop-mclaren-wrapper" data-model-id="2006:845">
      <div class="desktop-mclaren">
        <div class="overlap-4">
          <img class="BG-2" src="img/bg-3.svg" />
          <div class="SUELDO-2">
            <img class="img" src="img/icons-2.svg" />
            <p class="text-wrapper-18">
              Triplicá tus chances por cada compra que hagas por cobrar tu sueldo en el BNA.
            </p>
          </div>
          <div class="footer-desktop">
            <p class="necesit-s-ayuda-2">
              <span class="text-wrapper-19">¿Necesitás ayuda? <br /></span>
              <span class="text-wrapper-6">Preguntas frecuentes <br /></span>
              <span class="text-wrapper-7"> <br /></span>
              <span class="text-wrapper-19">Centro de Contactos</span>
              <span class="text-wrapper-6"> 0810-666-4444</span>
              <span class="text-wrapper-7"> <br /></span>
              <span class="text-wrapper-19">de lunes a viernes de 08:00 a 20:00 hs</span>
              <span class="text-wrapper-7">.</span>
            </p>
            <p class="text-wrapper-20">©2025 - Banco de la Nación Argentina.</p>
            <img class="logos-2" src="img/logos-1.svg" />
          </div>
          <p class="hola-nombre-2">
            <span class="text-wrapper-21">¡Hola,</span>
            <span class="text-wrapper-4"> nombre</span>
            <span class="text-wrapper-21">!</span>
          </p>
          <p class="cortes-a-de-2">
            <span class="text-wrapper-22">Cortesía de </span> <span class="text-wrapper-4">Mastercard</span>
          </p>
          <p class="particip-con-tu-2">
            <span class="text-wrapper-23">Participá con tu </span>
            <span class="text-wrapper-4">Mastercard BNA</span>
            <span class="text-wrapper-23"> de este </span>
            <span class="text-wrapper-4">sorteo exclusivo.</span>
          </p>
          <div class="content-2">
            <div class="text-2">
              <p class="text-wrapper-24">Ganá un viaje a San Pablo, Brasil</p>
              <p class="y-disfrut-de-un-meet-2">
                <span class="span">y disfrutá de un </span>
                <span class="text-wrapper-4">Meet &amp; Greet</span>
                <span class="span"> con una leyenda o piloto de reserva del </span>
                <span class="text-wrapper-4">McLaren Formula 1 Team.</span>
              </p>
            </div>
            <img class="img" src="img/icons-3.svg" />
          </div>
          <div class="div-wrapper">
            <div class="overlap-group-5">
              <img class="misc-2" src="img/misc-1.svg" />
              <img class="LN" src="img/mcl39-ln-front3q-8k-jd-velo-1.png" />
              <img class="BG-3" src="img/bg-4.svg" />
            </div>
          </div>
          <div class="banner-cmo">
            <div class="text-wrapper-25">¿Cómo sumás chances?</div>
            <div class="duplica-4">
              <div class="tag"><div class="sum-2">SUMÁ 2</div></div>
              <div class="item-2">
                <div class="icon">
                  <div class="icons">
                    <div class="overlap-group-3">
                      <img class="vector-3" src="img/vector-34-5.svg" />
                      <img class="vector-4" src="img/vector-35-3.svg" />
                    </div>
                  </div>
                </div>
                <p class="div-3">
                  <span class="text-wrapper-14">Por cada compra desde </span>
                  <span class="text-wrapper-4">BNA+ MODO</span>
                  <span class="text-wrapper-14"> con tus tarjetas </span>
                  <span class="text-wrapper-4">Mastercard BNA.</span>
                </p>
              </div>
              <div class="item-2">
                <div class="icon">
                  <div class="icons">
                    <div class="overlap-group-3">
                      <img class="vector-3" src="img/vector-34-5.svg" />
                      <img class="vector-4" src="img/vector-35-3.svg" />
                    </div>
                  </div>
                </div>
                <p class="por-cada-compra-con">
                  <span class="text-wrapper-14">Por cada compra con tu </span>
                  <span class="text-wrapper-4">Mastercard Black o Platinum BNA.</span>
                </p>
              </div>
            </div>
            <div class="triplica">
              <div class="tag"><div class="sum-2">SUMÁ 3</div></div>
              <div class="item-2">
                <img class="icon-2" src="img/icon-1.svg" />
                <p class="div-3">
                  <span class="text-wrapper-14">Por cada compra con Mastercard,</span>
                  <span class="text-wrapper-4"> si cobrás tu sueldo en BNA.</span>
                </p>
              </div>
            </div>
            <div class="una-chance">
              <div class="tag"><div class="sum-2">SUMÁ 1</div></div>
              <div class="item-2">
                <div class="icon"><img class="vector-5" src="img/vector-34-5.svg" /></div>
                <p class="div-3">
                  <span class="text-wrapper-14">Por cada compra con tus tarjetas de débito y crédito </span>
                  <span class="text-wrapper-4">Mastercard BNA.</span>
                </p>
              </div>
            </div>
            <div class="overlap-wrapper">
              <div class="overlap-5">
                <img class="vector-6" src="img/vector-1.svg" />
                <img class="LN-overhead" src="img/mcl39-ln-overhead-8k-jd-velo-1.png" />
              </div>
            </div>
          </div>
          <div class="TYC-2">
            <div class="TYC-check-2">
              <div class="vector-wrapper"><img class="vector-7" src="img/vector-16-1.svg" /></div>
              <div class="text-wrapper-26">Términos y condiciones</div>
            </div>
            <div class="links-2"><div class="text-wrapper-27">Descargar</div></div>
          </div>
          <button class="quiero-participar-wrapper" id="btnEnviar" type="button"><div class="quiero-participar-2">QUIERO PARTICIPAR</div></button>
          <div class="header-desktop">
            <div class="overlap-6">
              <div class="overlap-7">
                <div class="title-2">
                  <div class="overlap-group-6">
                    <img class="vector-8" src="img/vector-2.svg" />
                    <div class="aceler-2">ACELERÁ</div>
                    <p class="y-VIAJ-a-san-pablo">Y VIAJÁ A SAN PABLO, BRASIL</p>
                  </div>
                </div>
                <img class="misc-3" src="img/misc-2.svg" />
                <img class="OP-front" src="img/mcl39-op-front-8k-avenga-velo-jd-1.png" />
              </div>
              <img class="logos-3" src="img/logos-2.svg" />
            </div>
          </div>
          <p class="text-wrapper-28">Vigencia: del 15/8/2025 al 14/9/2025</p>
          <div class="contenido-wrapper">
            <div class="contenido-2">
              <div class="txt">
                <div class="txt-2">
                  <p class="text-wrapper-29">Además podés ganar merchandising oficial:</p>
                  <p class="text-wrapper-30">
                    Sorteamos una camiseta y mochila oficial del equipo por cada podio del McLaren Formula 1 Team
                  </p>
                </div>
                <p class="text-wrapper-31">Vigencia: del 15/8/2025 al 30/11/2025</p>
              </div>
              <div class="img-2">
                <div class="overlap-group-7">
                  <img class="REMERA-2" src="img/remera-1.png" /> <img class="MOCHILA-2" src="img/mochila-1.png" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="NAV-BAR">
          <img class="logo-bna" src="img/logo-bna-1.png" />
          <div class="navbar">
            <div class="text-wrapper-32">Promociones</div>
            <div class="text-wrapper-32">Buscador</div>
            <div class="text-wrapper-32">Mapa de comercios</div>
            <div class="text-wrapper-32">Elegí +</div>
            <div class="text-wrapper-32">Tarjeta de Débito</div>
            <div class="text-wrapper-32">Tarjeta de Crédito</div>
            <button class="button"><div class="text-wrapper-33">Hacete cliente</div></button>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
  const ENDPOINT = "https://digiregistertyc-gadbcvfcc3gca6e0.canadacentral-01.azurewebsites.net/api/DigiRegisterTyC";
const PARAM_NAME = "id"; 

function getQueryParam(name) {
  return new URLSearchParams(location.search).get(name);
}

  async function enviarRegistro(id) {
    const res = await fetch(ENDPOINT, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        id: id.trim(),
        fecha: new Date().toISOString() // opcional
      }),
      signal: AbortSignal.timeout(8000) // timeout de 8s (Chromium/Edge)
    });

    let data = {};
    try { data = await res.json(); } catch {}
    if (!res.ok) throw new Error(data.error || `HTTP ${res.status}`);
    return data; // { message, input, created: {...} }
  }

 const btn = document.getElementById("btnEnviar");
  const msg = document.getElementById("msg");

  btn.addEventListener("click", async () => {

    const id = getQueryParam(PARAM_NAME);
    if (!id) {
      msg.textContent = `Falta el parámetro '${PARAM_NAME}' en la URL.`;
      return;
    }

    // evitar doble click
    btn.disabled = true; //msg.textContent = "Enviando...";
    try {
      const r = await enviarRegistro(id);
      //msg.textContent = "¡Registrado!";
      console.log("Respuesta:", r);
      // opcional: marcar como enviado por sesión
      // sessionStorage.setItem(`tyc:${id}`, "ok");
    } catch (e) {
      console.error(e);
      //msg.textContent = "No se pudo registrar: " + e.message;
    } finally {
      btn.disabled = false;
    }
  });
</script>
</html>
